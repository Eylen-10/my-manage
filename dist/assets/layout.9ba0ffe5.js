var q=Object.defineProperty;var C=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var $=(t,n,e)=>n in t?q(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,R=(t,n)=>{for(var e in n||(n={}))A.call(n,e)&&$(t,e,n[e]);if(C)for(var e of C(n))H.call(n,e)&&$(t,e,n[e]);return t};import{d as M,b as s,o as a,c as _,h as u,w as o,m as d,n as T,q as N,e as h,t as b,F as g,s as k,l as S,k as y,f as p,v as I,a as O,r as B,u as V,x as J,T as Q,y as W,K as X}from"./index.36f3b5c3.js";import{a as Y}from"./user.d3eb20d8.js";import"./request.ed4bade2.js";const Z={key:0},ee=M({name:"Sidebaritem"}),te=Object.assign(ee,{props:{menu:Object,default:{}},setup(t){return(n,e)=>{const r=s("el-icon"),l=s("sidebaritem",!0),m=s("el-sub-menu"),v=s("el-menu-item");return t.menu.children&&t.menu.children.length?(a(),_("div",Z,[u(m,{index:"/"+t.menu.path},{title:o(()=>[t.menu.icon?(a(),d(r,{key:0},{default:o(()=>[(a(),d(T(t.menu.icon)))]),_:1})):N("",!0),h("span",null,b(t.menu.name),1)]),default:o(()=>[(a(!0),_(g,null,k(t.menu.children,f=>(a(),_("div",{key:f.name},[u(l,{menu:f},null,8,["menu"])]))),128))]),_:1},8,["index"])])):(a(),d(v,{key:1,index:"/"+t.menu.path,router:t.menu.path},{default:o(()=>[t.menu.icon?(a(),d(r,{key:0},{default:o(()=>[(a(),d(T(t.menu.icon)))]),_:1})):N("",!0),h("span",null,b(t.menu.name),1)]),_:1},8,["index","router"]))}}});const ne={class:"sidebar"},ae={setup(t){const n=S();return(e,r)=>{const l=s("el-menu");return a(),_("div",ne,[y(b(p(n).curTab.path)+" ",1),u(l,{"active-text-color":"#ffd04b","background-color":"#151718","default-active":p(n).curTab.path,class:"el-menu-vertical-demo mt10","text-color":"#fff",router:""},{default:o(()=>[(a(!0),_(g,null,k(p(I),m=>(a(),_("div",{key:"/"+m.path},[u(te,{menu:m},null,8,["menu"])]))),128))]),_:1},8,["default-active"])])}}};var oe="/my-manage/dist/assets/avatar.1442be94.png";const se={class:"header-component flex"},ue={class:"flex1 mt5"},ce={class:"fs14 flex-row pointer"},le=y("\u9000\u51FA\u767B\u5F55"),re={class:"tabs"},_e={setup(t){const n=O(),e=S();var r=B([]);B({name:"",path:""});const l=V(),m=()=>{let c={account:n.userName};Y(c).then(x=>{n.setUser(""),l.push({path:"/login"}),e.updateCurTab({name:"",path:""}),e.clearTab()}).catch(()=>{})};J(()=>{L(l.currentRoute);let c={path:l.currentRoute.value.fullPath,name:l.currentRoute.value.name};e.addTab(c)});function v(c){e.updateCurTab(c),l.push({path:c.path})}function f(c){e.delTab(c),l.push({path:e.curTab.path?e.curTab.path:"/"})}function L(){r.length=0;let c=l.currentRoute.value.matched;if(c&&c.length){r.length=0;for(let x=0;x<c.length;x++)r.push(c[x])}else r.push(R({},l.currentRoute.value))}return(c,x)=>{const U=s("expand"),j=s("el-icon"),z=s("el-breadcrumb-item"),D=s("el-breadcrumb"),E=s("el-avatar"),F=s("el-dropdown-item"),G=s("el-dropdown-menu"),K=s("el-dropdown"),P=s("el-tag");return a(),_(g,null,[h("div",se,[u(j,{class:"mr10"},{default:o(()=>[u(U)]),_:1}),h("div",ue,[u(D,{separator:"/",class:"color-w"},{default:o(()=>[(a(!0),_(g,null,k(p(r),(i,w)=>(a(),d(z,{key:w,to:i.path},{default:o(()=>[y(b(i.name),1)]),_:2},1032,["to"]))),128))]),_:1})]),u(K,null,{dropdown:o(()=>[u(G,null,{default:o(()=>[u(F,{onClick:m},{default:o(()=>[le]),_:1})]),_:1})]),default:o(()=>[h("span",ce,[u(E,{src:p(oe),style:{width:"25px",height:"25px"},class:"mr10 bold"},null,8,["src"]),y(" "+b(p(n).userName||"\u6E38\u5BA2"),1)])]),_:1})]),h("div",re,[u(Q,{name:"el-zoom-in-left"},{default:o(()=>[(a(!0),_(g,null,k(p(e).tabMap,i=>(a(),d(P,{key:i.path,class:W(["mr10 pointer",{"el-tag--dark":p(e).curTab.path==i.path}]),onClick:w=>v(i),onClose:w=>f(i),closable:""},{default:o(()=>[y(b(i.name),1)]),_:2},1032,["class","onClick","onClose"]))),128))]),_:1})])],64)}}};const de={class:"container flex-row"},me={class:"main-container flex1"},be={setup(t){const n=O(),e=V();return n.userName||e.push({path:"/login"}),(r,l)=>{const m=s("router-view");return a(),_("div",de,[u(ae),h("div",me,[u(_e),u(m,null,{default:o(({Component:v,route:f})=>[(a(),d(X,null,[(a(),d(T(v),{key:f.fullPath}))],1024))]),_:1})])])}}};export{be as default};
