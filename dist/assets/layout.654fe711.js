var A=Object.defineProperty;var C=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var $=(e,n,t)=>n in e?A(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,R=(e,n)=>{for(var t in n||(n={}))G.call(n,t)&&$(e,t,n[t]);if(C)for(var t of C(n))H.call(n,t)&&$(e,t,n[t]);return e};import{d as M,b as s,o as a,c as _,h as l,w as o,l as d,m as T,n as N,e as h,t as v,F as x,q as k,s as S,k as g,f as p,v as I,a as V,r as B,u as j,x as J,T as Q,y as W,K as X}from"./index.9604c6c8.js";const Y={key:0},Z=M({name:"Sidebaritem"}),ee=Object.assign(Z,{props:{menu:Object,default:{}},setup(e){return(n,t)=>{const r=s("el-icon"),c=s("sidebaritem",!0),m=s("el-sub-menu"),b=s("el-menu-item");return e.menu.children&&e.menu.children.length?(a(),_("div",Y,[l(m,{index:"/"+e.menu.path},{title:o(()=>[e.menu.icon?(a(),d(r,{key:0},{default:o(()=>[(a(),d(T(e.menu.icon)))]),_:1})):N("",!0),h("span",null,v(e.menu.name),1)]),default:o(()=>[(a(!0),_(x,null,k(e.menu.children,f=>(a(),_("div",{key:f.name},[l(c,{menu:f},null,8,["menu"])]))),128))]),_:1},8,["index"])])):(a(),d(b,{key:1,index:"/"+e.menu.path,router:e.menu.path},{default:o(()=>[e.menu.icon?(a(),d(r,{key:0},{default:o(()=>[(a(),d(T(e.menu.icon)))]),_:1})):N("",!0),h("span",null,v(e.menu.name),1)]),_:1},8,["index","router"]))}}});const te={class:"sidebar"},ne={setup(e){const n=S();return(t,r)=>{const c=s("el-menu");return a(),_("div",te,[g(v(p(n).curTab.path)+" ",1),l(c,{"active-text-color":"#ffd04b","background-color":"#151718","default-active":p(n).curTab.path,class:"el-menu-vertical-demo mt10","text-color":"#fff",router:""},{default:o(()=>[(a(!0),_(x,null,k(p(I),m=>(a(),_("div",{key:"/"+m.path},[l(ee,{menu:m},null,8,["menu"])]))),128))]),_:1},8,["default-active"])])}}};var ae="/my-manage/dist/assets/avatar.1442be94.png";const oe={class:"header-component flex"},se={class:"flex1 mt5"},le={class:"fs14 flex-row pointer"},ce=g("\u9000\u51FA\u767B\u5F55"),ue={class:"tabs"},re={setup(e){const n=V(),t=S();var r=B([]);B({name:"",path:""});const c=j(),m=()=>{n.setUser(""),t.clearTab(),c.push({path:"/login"})};J(()=>{console.log("watch"),z(c.currentRoute);let u={path:c.currentRoute.value.fullPath,name:c.currentRoute.value.name};t.addTab(u)});function b(u){t.updateCurTab(u),c.push({path:u.path})}function f(u){t.delTab(u),c.push({path:t.curTab.path?t.curTab.path:"/"})}function z(){r.length=0;let u=c.currentRoute.value.matched;if(u&&u.length){r.length=0;for(let y=0;y<u.length;y++)r.push(u[y])}else r.push(R({},c.currentRoute.value))}return(u,y)=>{const D=s("expand"),E=s("el-icon"),F=s("el-breadcrumb-item"),K=s("el-breadcrumb"),L=s("el-avatar"),O=s("el-dropdown-item"),P=s("el-dropdown-menu"),U=s("el-dropdown"),q=s("el-tag");return a(),_(x,null,[h("div",oe,[l(E,{class:"mr10"},{default:o(()=>[l(D)]),_:1}),h("div",se,[l(K,{separator:"/",class:"color-w"},{default:o(()=>[(a(!0),_(x,null,k(p(r),(i,w)=>(a(),d(F,{key:w,to:i.path},{default:o(()=>[g(v(i.name),1)]),_:2},1032,["to"]))),128))]),_:1})]),l(U,null,{dropdown:o(()=>[l(P,null,{default:o(()=>[l(O,{onClick:m},{default:o(()=>[ce]),_:1})]),_:1})]),default:o(()=>[h("span",le,[l(L,{src:p(ae),style:{width:"25px",height:"25px"},class:"mr10 bold"},null,8,["src"]),g(" "+v(p(n).userName||"\u6E38\u5BA2"),1)])]),_:1})]),h("div",ue,[l(Q,{name:"el-zoom-in-left"},{default:o(()=>[(a(!0),_(x,null,k(p(t).tabMap,i=>(a(),d(q,{key:i.path,class:W(["mr10 pointer",{"el-tag--dark":p(t).curTab.path==i.path}]),onClick:w=>b(i),onClose:w=>f(i),closable:""},{default:o(()=>[g(v(i.name),1)]),_:2},1032,["class","onClick","onClose"]))),128))]),_:1})])],64)}}};const _e={class:"container flex-row"},de={class:"main-container flex1"},pe={setup(e){const n=V(),t=j();return n.userName||t.push({path:"/login"}),(r,c)=>{const m=s("router-view");return a(),_("div",_e,[l(ne),h("div",de,[l(re),l(m,null,{default:o(({Component:b,route:f})=>[(a(),d(X,null,[(a(),d(T(b),{key:f.fullPath}))],1024))]),_:1})])])}}};export{pe as default};
