var A=Object.defineProperty;var C=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var $=(t,n,e)=>n in t?A(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,R=(t,n)=>{for(var e in n||(n={}))G.call(n,e)&&$(t,e,n[e]);if(C)for(var e of C(n))H.call(n,e)&&$(t,e,n[e]);return t};import{d as M,b as s,o as a,c as _,h as l,w as o,l as d,m as T,n as N,e as h,t as b,F as x,q as k,s as S,k as g,f as p,v as I,a as V,r as B,u as j,x as J,T as Q,y as W,K as X}from"./index.215eb589.js";const Y={key:0},Z=M({name:"Sidebaritem"}),ee=Object.assign(Z,{props:{menu:Object,default:{}},setup(t){return(n,e)=>{const r=s("el-icon"),u=s("sidebaritem",!0),m=s("el-sub-menu"),v=s("el-menu-item");return t.menu.children&&t.menu.children.length?(a(),_("div",Y,[l(m,{index:"/"+t.menu.path},{title:o(()=>[t.menu.icon?(a(),d(r,{key:0},{default:o(()=>[(a(),d(T(t.menu.icon)))]),_:1})):N("",!0),h("span",null,b(t.menu.name),1)]),default:o(()=>[(a(!0),_(x,null,k(t.menu.children,f=>(a(),_("div",{key:f.name},[l(u,{menu:f},null,8,["menu"])]))),128))]),_:1},8,["index"])])):(a(),d(v,{key:1,index:"/"+t.menu.path,router:t.menu.path},{default:o(()=>[t.menu.icon?(a(),d(r,{key:0},{default:o(()=>[(a(),d(T(t.menu.icon)))]),_:1})):N("",!0),h("span",null,b(t.menu.name),1)]),_:1},8,["index","router"]))}}});const te={class:"sidebar"},ne={setup(t){const n=S();return(e,r)=>{const u=s("el-menu");return a(),_("div",te,[g(b(p(n).curTab.path)+" ",1),l(u,{"active-text-color":"#ffd04b","background-color":"#151718","default-active":p(n).curTab.path,class:"el-menu-vertical-demo mt10","text-color":"#fff",router:""},{default:o(()=>[(a(!0),_(x,null,k(p(I),m=>(a(),_("div",{key:"/"+m.path},[l(ee,{menu:m},null,8,["menu"])]))),128))]),_:1},8,["default-active"])])}}};var ae="/my-manage/dist/assets/avatar.1442be94.png";const oe={class:"header-component flex"},se={class:"flex1 mt5"},le={class:"fs14 flex-row pointer"},ue=g("\u9000\u51FA\u767B\u5F55"),ce={class:"tabs"},re={setup(t){const n=V(),e=S();var r=B([]);B({name:"",path:""});const u=j(),m=()=>{n.setUser(""),u.push({path:"/login"}),e.updateCurTab({name:"",path:""}),e.clearTab()};J(()=>{console.log("watch"),z(u.currentRoute);let c={path:u.currentRoute.value.fullPath,name:u.currentRoute.value.name};e.addTab(c)});function v(c){e.updateCurTab(c),u.push({path:c.path})}function f(c){e.delTab(c),u.push({path:e.curTab.path?e.curTab.path:"/"})}function z(){r.length=0;let c=u.currentRoute.value.matched;if(c&&c.length){r.length=0;for(let y=0;y<c.length;y++)r.push(c[y])}else r.push(R({},u.currentRoute.value))}return(c,y)=>{const D=s("expand"),E=s("el-icon"),F=s("el-breadcrumb-item"),K=s("el-breadcrumb"),L=s("el-avatar"),O=s("el-dropdown-item"),P=s("el-dropdown-menu"),U=s("el-dropdown"),q=s("el-tag");return a(),_(x,null,[h("div",oe,[l(E,{class:"mr10"},{default:o(()=>[l(D)]),_:1}),h("div",se,[l(K,{separator:"/",class:"color-w"},{default:o(()=>[(a(!0),_(x,null,k(p(r),(i,w)=>(a(),d(F,{key:w,to:i.path},{default:o(()=>[g(b(i.name),1)]),_:2},1032,["to"]))),128))]),_:1})]),l(U,null,{dropdown:o(()=>[l(P,null,{default:o(()=>[l(O,{onClick:m},{default:o(()=>[ue]),_:1})]),_:1})]),default:o(()=>[h("span",le,[l(L,{src:p(ae),style:{width:"25px",height:"25px"},class:"mr10 bold"},null,8,["src"]),g(" "+b(p(n).userName||"\u6E38\u5BA2"),1)])]),_:1})]),h("div",ce,[l(Q,{name:"el-zoom-in-left"},{default:o(()=>[(a(!0),_(x,null,k(p(e).tabMap,i=>(a(),d(q,{key:i.path,class:W(["mr10 pointer",{"el-tag--dark":p(e).curTab.path==i.path}]),onClick:w=>v(i),onClose:w=>f(i),closable:""},{default:o(()=>[g(b(i.name),1)]),_:2},1032,["class","onClick","onClose"]))),128))]),_:1})])],64)}}};const _e={class:"container flex-row"},de={class:"main-container flex1"},pe={setup(t){const n=V(),e=j();return n.userName||e.push({path:"/login"}),(r,u)=>{const m=s("router-view");return a(),_("div",_e,[l(ne),h("div",de,[l(re),l(m,null,{default:o(({Component:v,route:f})=>[(a(),d(X,null,[(a(),d(T(v),{key:f.fullPath}))],1024))]),_:1})])])}}};export{pe as default};
